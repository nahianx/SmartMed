PORT=4000
NODE_ENV=development
DATABASE_URL="postgresql://user:password@localhost:5432/smartmed"
JWT_SECRET="your-secret-key-change-in-production"
JWT_ACCESS_EXPIRY="15m"
JWT_REFRESH_EXPIRY="7d"

# ==========================================
# RxNav API Configuration
# ==========================================
# Base URL for RxNav API (National Library of Medicine drug database)
RXNAV_API_BASE_URL="https://rxnav.nlm.nih.gov/REST"

# Timeout for RxNav API requests in milliseconds
RXNAV_API_TIMEOUT=10000

# ==========================================
# Cache Configuration
# ==========================================
# Redis connection URL (optional - falls back to in-memory cache if not set)
REDIS_URL=""

# Cache TTL (Time To Live) in seconds
DRUG_CACHE_TTL=86400          # 24 hours - for drug details
DRUG_SEARCH_CACHE_TTL=3600    # 1 hour - for search results
INTERACTION_CACHE_TTL=86400   # 24 hours - for interaction data

# ==========================================
# Feature Flags
# ==========================================
# Enable/disable drug interaction checking during prescription
INTERACTION_CHECK_ENABLED=true

# Enable/disable patient allergy checking
ALLERGY_CHECK_ENABLED=true

# Enable/disable drug name suggestions/autocomplete
DRUG_SUGGESTIONS_ENABLED=true

# ==========================================
# Rate Limiting
# ==========================================
# Maximum drug search requests per minute per user
DRUG_SEARCH_RATE_LIMIT=100

# ==========================================
# Logging
# ==========================================
LOG_LEVEL=info

# ==========================================
# SMTP Email Configuration
# ==========================================
# SMTP server host (defaults to Gmail)
SMTP_HOST="smtp.gmail.com"

# SMTP server port (587 for TLS, 465 for SSL)
SMTP_PORT=587

# SMTP authentication credentials (required for sending emails)
# For Gmail, use an App Password: https://support.google.com/accounts/answer/185833
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password-here"

# ==========================================
# Resend Email Configuration (Primary)
# ==========================================
# API key from https://resend.com
RESEND_API_KEY="re_your_api_key_here"

# Default from address for Resend emails
EMAIL_FROM="SmartMed <onboarding@resend.dev>"

# Frontend URL for email links
FRONTEND_URL="http://localhost:3000"

# ==========================================
# Email Verification Configuration
# ==========================================
# Set to 'true' to require email verification before login
# When false, users can login without verifying their email
REQUIRE_EMAIL_VERIFICATION=false

# Grace period in hours - users can login without verification within this period
# Only applies when REQUIRE_EMAIL_VERIFICATION=true
# Set to 0 to require immediate verification
VERIFICATION_GRACE_PERIOD_HOURS=24

# ==========================================
# MFA/Two-Factor Authentication Configuration
# ==========================================
# 32-byte (64 hex characters) encryption key for MFA secrets
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
MFA_ENCRYPTION_KEY="your-64-char-hex-encryption-key-here-generate-with-crypto"

# ==========================================
# Queue Management Configuration
# ==========================================
# Default no-show timeout in minutes (per doctor override available)
QUEUE_DEFAULT_NO_SHOW_TIMEOUT=30

# How often to check for no-shows (in milliseconds)
QUEUE_NO_SHOW_CHECK_INTERVAL=300000

# How often to refresh wait times (in milliseconds)
QUEUE_WAIT_TIME_REFRESH_INTERVAL=120000

# How often to reset daily stats (in milliseconds)
QUEUE_DAILY_RESET_INTERVAL=3600000

# Wait time buffer multiplier (for estimation)
QUEUE_WAIT_BUFFER=1.2
